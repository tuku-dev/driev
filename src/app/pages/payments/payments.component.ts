import { PaymentFiltersComponent } from "./payment-filters/payment-filters.component";
import { PaymentDetailsComponent } from "./../../shared/payment-details/payment-details.component";
import { NgbModal } from "@ng-bootstrap/ng-bootstrap";
import { Component, Input } from "@angular/core";

@Component({
  selector: "app-payments",
  templateUrl: "./payments.component.html",
  styleUrls: ["./payments.component.scss"],
})
export class PaymentsComponent {
  assetPath = "../../../assets/";
  paymentList = [];
  filterValue = "";

  constructor(private modalService: NgbModal) {}

  ngOnInit(): void {
    this.paymentList = [
      {
        id: "640ffbc8fc13ae1afe00044c",
        planType: "mauris morbi",
        rentalType: "vel nulla",
        dated: "2022-08-09T16:50:34.000Z",
        deliveryType: "in tempus",
        helmet: 1,
        battery: 2,
        deliverCharges: 54.6,
        planPrice: 221.41,
        batteryCharges: 127.3,
        helmetCharges: 18.04,
        totalAmount: 341.59,
        refundAmount: 336.63,
        securityDeposit: 98.16,
        subTotal: 205.98,
        transactionId: "280398643-4",
        status: "pending",
      },
      {
        id: "640ffbc8fc13ae1afe00044d",
        planType: "accumsan",
        rentalType: "donec pharetra",
        dated: "2022-05-21T23:04:46.000Z",
        deliveryType: "ligula sit",
        helmet: 1,
        battery: 2,
        deliverCharges: 97.75,
        planPrice: 208.01,
        batteryCharges: 70.17,
        helmetCharges: 23.84,
        totalAmount: 131.06,
        refundAmount: 221.2,
        securityDeposit: 97.4,
        subTotal: 271.68,
        transactionId: "773490534-X",
        status: "pending",
      },
      {
        id: "640ffbc8fc13ae1afe00044e",
        planType: "consequat",
        rentalType: "non",
        dated: "2022-11-18T13:35:49.000Z",
        deliveryType: "neque libero",
        helmet: 1,
        battery: 2,
        deliverCharges: 38.76,
        planPrice: 108.45,
        batteryCharges: 133.41,
        helmetCharges: 21.42,
        totalAmount: 249.41,
        refundAmount: 213.64,
        securityDeposit: 338.53,
        subTotal: 97.52,
        transactionId: "330987256-4",
        status: "refunded",
      },
      {
        id: "640ffbc8fc13ae1afe00044f",
        planType: "sit amet",
        rentalType: "justo sit",
        dated: "2022-12-07T19:11:32.000Z",
        deliveryType: "cum sociis",
        helmet: 1,
        battery: 1,
        deliverCharges: 98.59,
        planPrice: 186.11,
        batteryCharges: 65.88,
        helmetCharges: 56.34,
        totalAmount: 201.59,
        refundAmount: 151.42,
        securityDeposit: 356.72,
        subTotal: 195.32,
        transactionId: "582692278-8",
        status: "pending",
      },
      {
        id: "640ffbc8fc13ae1afe000450",
        planType: "euismod scelerisque",
        rentalType: "morbi vel",
        dated: "2022-11-02T22:15:43.000Z",
        deliveryType: "suspendisse potenti",
        helmet: 2,
        battery: 1,
        deliverCharges: 96.72,
        planPrice: 152.81,
        batteryCharges: 147.33,
        helmetCharges: 17.79,
        totalAmount: 210.55,
        refundAmount: 222.39,
        securityDeposit: 304.19,
        subTotal: 347.68,
        transactionId: "711278591-X",
        status: "refunded",
      },
      {
        id: "640ffbc8fc13ae1afe000451",
        planType: "eget tincidunt",
        rentalType: "praesent blandit",
        dated: "2022-05-02T15:41:54.000Z",
        deliveryType: "ante nulla",
        helmet: 2,
        battery: 1,
        deliverCharges: 92.49,
        planPrice: 134.13,
        batteryCharges: 121.26,
        helmetCharges: 58.74,
        totalAmount: 347.47,
        refundAmount: 335.21,
        securityDeposit: 245.42,
        subTotal: 179.79,
        transactionId: "886410016-4",
        status: "pending",
      },
      {
        id: "640ffbc8fc13ae1afe000452",
        planType: "ultrices libero",
        rentalType: "in",
        dated: "2022-09-28T18:00:27.000Z",
        deliveryType: "aenean sit",
        helmet: 2,
        battery: 1,
        deliverCharges: 87.28,
        planPrice: 229.15,
        batteryCharges: 83.21,
        helmetCharges: 24.02,
        totalAmount: 140.47,
        refundAmount: 281.04,
        securityDeposit: 268.22,
        subTotal: 90.98,
        transactionId: "078105318-8",
        status: "refunded",
      },
      {
        id: "640ffbc8fc13ae1afe000453",
        planType: "nisl",
        rentalType: "eleifend",
        dated: "2022-05-21T00:17:12.000Z",
        deliveryType: "etiam justo",
        helmet: 2,
        battery: 2,
        deliverCharges: 76.15,
        planPrice: 189.25,
        batteryCharges: 54.63,
        helmetCharges: 67.08,
        totalAmount: 130.95,
        refundAmount: 160.52,
        securityDeposit: 239.5,
        subTotal: 218.71,
        transactionId: "312024531-3",
        status: "refunded",
      },
      {
        id: "640ffbc8fc13ae1afe000454",
        planType: "et",
        rentalType: "felis",
        dated: "2022-10-18T19:32:50.000Z",
        deliveryType: "faucibus orci",
        helmet: 1,
        battery: 1,
        deliverCharges: 88.77,
        planPrice: 229.47,
        batteryCharges: 39.27,
        helmetCharges: 17.24,
        totalAmount: 150.11,
        refundAmount: 286.8,
        securityDeposit: 338.22,
        subTotal: 340.67,
        transactionId: "470540944-2",
        status: "refunded",
      },
      {
        id: "640ffbc8fc13ae1afe000455",
        planType: "condimentum neque",
        rentalType: "lacinia",
        dated: "2022-06-30T04:16:51.000Z",
        deliveryType: "metus arcu",
        helmet: 1,
        battery: 1,
        deliverCharges: 98.38,
        planPrice: 204.44,
        batteryCharges: 85.48,
        helmetCharges: 30.13,
        totalAmount: 294.98,
        refundAmount: 302.32,
        securityDeposit: 150.36,
        subTotal: 242.85,
        transactionId: "897765127-1",
        status: "refunded",
      },
      {
        id: "640ffbc8fc13ae1afe000456",
        planType: "porttitor",
        rentalType: "cras in",
        dated: "2023-02-16T17:49:11.000Z",
        deliveryType: "luctus",
        helmet: 1,
        battery: 2,
        deliverCharges: 71.39,
        planPrice: 186.47,
        batteryCharges: 77.72,
        helmetCharges: 39.95,
        totalAmount: 283.43,
        refundAmount: 111.8,
        securityDeposit: 326.67,
        subTotal: 209.98,
        transactionId: "592707992-X",
        status: "refunded",
      },
    ];
  }
  showDetails(item) {
    // console.log(item);
    const modalRef = this.modalService.open(PaymentDetailsComponent, {
      centered: true,
      windowClass: "payment-details",
    });

    modalRef.componentInstance.content = {
      paymentDetails: item,
    };
  }
  openFilters() {
    const modalRef = this.modalService.open(PaymentFiltersComponent, {
      centered: true,
      windowClass: "payment-details",
      size: "sm",
    });

    modalRef.result.then((response) => {
      if (response.status) {
        this.filterValue = response.value;
      }
      console.log(this.filterValue);
    });
  }
}
